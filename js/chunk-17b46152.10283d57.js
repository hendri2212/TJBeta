(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17b46152"],{5319:function(t,a,r){"use strict";var e=r("d784"),n=r("825a"),s=r("7b0b"),o=r("50c4"),i=r("a691"),c=r("1d80"),u=r("8aa5"),l=r("14c3"),d=Math.max,g=Math.min,p=Math.floor,_=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};e("replace",2,(function(t,a,r,e){var f=e.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=e.REPLACE_KEEPS_$0,b=f?"$":"$0";return[function(r,e){var n=c(this),s=void 0==r?void 0:r[t];return void 0!==s?s.call(r,n,e):a.call(String(n),r,e)},function(t,e){if(!f&&m||"string"===typeof e&&-1===e.indexOf(b)){var s=r(a,t,this,e);if(s.done)return s.value}var c=n(t),p=String(this),_="function"===typeof e;_||(e=String(e));var h=c.global;if(h){var $=c.unicode;c.lastIndex=0}var y=[];while(1){var k=l(c,p);if(null===k)break;if(y.push(k),!h)break;var x=String(k[0]);""===x&&(c.lastIndex=u(p,o(c.lastIndex),$))}for(var C="",E=0,S=0;S<y.length;S++){k=y[S];for(var R=String(k[0]),A=d(g(i(k.index),p.length),0),I=[],L=1;L<k.length;L++)I.push(v(k[L]));var j=k.groups;if(_){var P=[R].concat(I,A,p);void 0!==j&&P.push(j);var z=String(e.apply(void 0,P))}else z=w(R,p,A,I,j,e);A>=E&&(C+=p.slice(E,A)+z,E=A+R.length)}return C+p.slice(E)}];function w(t,r,e,n,o,i){var c=e+t.length,u=n.length,l=h;return void 0!==o&&(o=s(o),l=_),a.call(i,l,(function(a,s){var i;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,e);case"'":return r.slice(c);case"<":i=o[s.slice(1,-1)];break;default:var l=+s;if(0===l)return a;if(l>u){var d=p(l/10);return 0===d?a:d<=u?void 0===n[d-1]?s.charAt(1):n[d-1]+s.charAt(1):a}i=n[l-1]}return void 0===i?"":i}))}}))},"7fe3":function(t,a,r){"use strict";r.r(a);var e=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",[null!=t.product?r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 p-1 text-uppercase"},[r("b",[t._v(t._s(t.$route.params.kategori))])])]):t._e(),r("div",{staticClass:"row"},[null==t.product?r("img",{staticClass:"img-fluid d-flex mx-auto",staticStyle:{height:"100px"},attrs:{src:t.$store.state.url_images+"loading.svg"}}):t._e()]),r("div",{directives:[{name:"show",rawName:"v-show",value:null!=t.product,expression:"product!=null"}],staticClass:"row"},t._l(t.product,(function(a,e){return r("div",{key:"product"+e,staticClass:"col-4 p-1"},[r("router-link",{attrs:{to:{name:"Product",params:{kategori:a.kategori,kategori_id:a.id_kategory_barang,product_id:a.id_barang,product:a.seo_nama_barang}}}},[r("div",{staticClass:"card product"},[null!=a.depan&&""!=a.depan?r("img",{staticClass:"lazy img-fluid card-img-top",attrs:{src:t.$store.state.url_images+"loading_post_produk.svg","data-src":t.$store.state.url_product+a.depan,alt:a.nama_barang}}):r("img",{staticClass:"img-fluid card-img-top",attrs:{src:t.$store.state.url_images+"default_image.jpeg",alt:a.nama_barang}}),r("div",{staticClass:"card-body"},[r("p",{staticClass:"product-name small",attrs:{title:a.nama_barang}},[t._v(t._s(a.nama_barang))]),0!=a.harga_barang&0!=a.harga_modal?r("strong",{staticClass:"small font-weight-bold text-success"},[0!=a.harga_barang&0!=a.harga_modal?[t._v(" Rp"+t._s(t.toCurrency(a.harga_barang))+" ")]:t._e(),0==a.harga_barang&0!=a.harga_modal?[t._v(" Rp"+t._s(t.toCurrency(a.harga_modal))+" ")]:t._e()],2):t._e(),r("br"),r("router-link",{staticClass:"small text-muted sell-name",attrs:{to:{name:"Store",params:{store:a.penjual_model.seo_nama_toko}}}},[t._v(t._s(a.penjual_model.nama_toko))])],1)])])],1)})),0)])},n=[],s=(r("4160"),r("ac1f"),r("5319"),r("1276"),r("159b"),r("96cf"),r("1da1")),o={name:"HomeWithProduct",data:function(){return{busy:!1}},computed:{product:function(){return this.$store.state.product.product}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.$route.params.kategori_id!=t.$store.state.product.last_category&&t.$store.dispatch("reset_product"),null!=t.$store.state.product.product){a.next=4;break}return a.next=4,t.data_product();case 4:window.addEventListener("scroll",t.loadMore);case 5:case"end":return a.stop()}}),a)})))()},destroyed:function(){window.removeEventListener("scroll",this.loadMore)},updated:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.lazyLoad();case 2:case"end":return a.stop()}}),a)})))()},methods:{loadMore:function(){if(!this.busy){var t=document.documentElement,a=t.scrollTop+window.innerHeight,r=t.offsetHeight;a>=r-50&&this.data_product()}},lazyLoad:function(){var t;if("IntersectionObserver"in window){t=document.querySelectorAll(".lazy");var a=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting){var r=t.target;r.src=r.dataset.src,r.classList.remove("lazy"),a.unobserve(r)}}))}));t.forEach((function(t){a.observe(t)}))}},toCurrency:function(t){t+="";var a=t.split("."),r=a[0],e=a.length>1?"."+a[1]:"",n=/(\d+)(\d{3})/;while(n.test(r))r=r.replace(n,"$1.$2");return r+e},data_product:function(){var t=this;this.busy=!0;var a=this.$store.getters.product_length,r="",e={};this.$store.state.login.ifLogin?(r=this.$store.state.url_api+"product?category="+this.$route.params.kategori_id+"&cur="+a,e={Authorization:"Bearer "+localStorage.token}):(r=this.$store.state.url_api+"product?&category="+this.$route.params.kategori_id+"&cur="+a,e={"Content-Type":"application/json"}),this.axios.get(r,{headers:e}).then((function(a){a.data.sort((function(t,a){return a.analytics_barang_model.cta-t.analytics_barang_model.cta||a.id_barang-t.id_barang})),t.$store.dispatch("set_product",a.data),t.$store.dispatch("set_last_category",t.$route.params.kategori_id),t.busy=!1}))}}},i=o,c=r("2877"),u=Object(c["a"])(i,e,n,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-17b46152.10283d57.js.map