(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0929dac9","chunk-2d216081"],{1468:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("img",{staticClass:"img-fluid pt-5 mt-5 w-25 mx-auto d-block",attrs:{alt:"logo tukarjual.com",src:a("8e94")}}),s("h6",{staticClass:"text-center mb-5"},[t._v("Daftar akun baru sekarang")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.number_phone,expression:"number_phone"}],staticClass:"form-control form-control-lg bg-light",attrs:{required:"",type:"tel",name:"number_phone",placeholder:"Masukkan nomor whatsapp"},domProps:{value:t.number_phone},on:{input:function(e){e.target.composing||(t.number_phone=e.target.value)}}})])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col"},[s("div",{staticClass:"d-flex justify-content-center"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control form-control-lg bg-light mr-2",attrs:{disabled:!t.disabledOTP,type:"text",name:"",placeholder:"Masukkan OTP"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),t.sended_code?s("button",{staticClass:"btn btn-outline-info col-5 float-right"},[t._v(t._s(t.timeout+" detik"))]):s("button",{staticClass:"btn col-5 float-right text-white tombol",attrs:{disabled:!t.valid_number_phone},on:{click:t.send_code}},[t._v("Dapatkan kode")])])])]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col"},[s("div",{staticClass:"input-group mb-2"},["checkbox"===(t.hidden_password?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg border-right-0",attrs:{required:"",autocomplete:"new-password",name:"new_password",placeholder:"Masukkan kata sandi",type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{change:function(e){var a=t.password,s=e.target,o=!!s.checked;if(Array.isArray(a)){var n=null,i=t._i(a,n);s.checked?i<0&&(t.password=a.concat([n])):i>-1&&(t.password=a.slice(0,i).concat(a.slice(i+1)))}else t.password=o}}}):"radio"===(t.hidden_password?"password":"text")?s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg border-right-0",attrs:{required:"",autocomplete:"new-password",name:"new_password",placeholder:"Masukkan kata sandi",type:"radio"},domProps:{checked:t._q(t.password,null)},on:{change:function(e){t.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg border-right-0",attrs:{required:"",autocomplete:"new-password",name:"new_password",placeholder:"Masukkan kata sandi",type:t.hidden_password?"password":"text"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("div",{staticClass:"input-group-text bg-light"},[t.hidden_password?s("i",{staticClass:"fa fa-eye-slash",on:{click:function(e){t.hidden_password=!1}}}):s("i",{staticClass:"fa fa-eye",on:{click:function(e){t.hidden_password=!0}}})])])]),s("small",{staticClass:"text-muted"},[t._v("Kata sandi harus berisi minimal 6 karakter")])])]),t._m(0)]),s("div",{staticClass:"col d-flex flex-row-reverse"},[s("p",{staticClass:"mt-3"},[t._v("Sudah beisi akun? "),s("router-link",{staticClass:"badge badge-info",staticStyle:{cursor:"pointer"},attrs:{to:"login"}},[t._v("Login Disini")])],1)]),s("modal-warning",{attrs:{image:t.$store.state.url_images+"modal/number_registered.png",ids:"number_phone_exists",message:{title:"Pendaftaran Gagal",deskripsi:"Nomor handphone yang anda masukkan sudah terdaftar"}}}),s("modal-warning",{attrs:{image:t.$store.state.url_images+"modal/wrong-otp.svg",ids:"wrong_otp",message:{title:"OTP Salah",deskripsi:"Kode OTP yang Pian masukkan salah"}}})],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col pt-3"},[a("input",{staticClass:"btn btn-lg btn-block text-white tombol",attrs:{type:"submit",value:"Daftar"}})])}],n=a("c174"),i=a("1157"),r=a.n(i),d={name:"Register",data:function(){return{number_phone:"",last_number_phone:"",password:"",code:"",hidden_password:!0,sended_code:!1,disabledOTP:!1,timeout:60,interval:null,loading_sending_code:!1}},components:{modalWarning:n["default"]},computed:{valid_number_phone:function(){return this.number_phone.length>=10},valid_password:function(){return this.password.length>=6},valid_code:function(){return 5==this.code.length}},watch:{timeout:function(t){0==t&&(this.sended_code=!1,clearInterval(this.interval),this.interval=null,this.timeout=60)}},methods:{send_code:function(){var t=this;this.loading_sending_code=!0,this.last_number_phone=this.number_phone,this.axios.get(this.$store.state.url_api+"auth/check_phone_to_register/"+this.last_number_phone).then((function(e){e.data.phone_ok?t.axios.post(t.$store.state.url_api+"auth/send-code",{number_phone:t.number_phone}).then((function(e){if(e.data.meta.success){t.disabledOTP=!0,t.sended_code=!0,t.loading_sending_code=!1;var a=t;t.interval=setInterval((function(){a.timeout--}),1e3)}})):r()("#number_phone_exists").modal("show")}))},register:function(){var t=this;this.valid_password&&this.valid_code&&this.axios.post(this.$store.state.url_api+"auth/register",{number_phone:this.last_number_phone,password:this.password,code:this.code}).then((function(e){e.data.meta.errors?r()("#wrong_otp").modal("show"):(localStorage.setItem("token",e.data.token),t.$store.dispatch("setIfLogin",!0),t.$store.dispatch("loadCart"),t.$router.push({name:"HomePage"}))}))}}},l=d,c=(a("6a40"),a("2877")),u=Object(c["a"])(l,s,o,!1,null,"f8abbe66",null);e["default"]=u.exports},"6a40":function(t,e,a){"use strict";var s=a("859c"),o=a.n(s);o.a},"859c":function(t,e,a){},"8e94":function(t,e,a){t.exports=a.p+"img/site-logo.31f5b9df.webp"},c174:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:t.ids,tabindex:"-1"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.$route.meta.name))]),t._m(0)]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"d-flex align-items-center my-5"},[a("div",{staticClass:"col-4"},[null!=t.image?a("img",{staticClass:"img-fluid",attrs:{src:t.image,alt:"Icon Gagal Login"}}):t._e()]),a("div",{staticClass:"col-8"},[a("h5",[t._v(t._s(t.message.title))]),a("p",[t._v(t._s(t.message.deskripsi))])])])])])])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])])}],n={name:"ModalFailed",props:{ids:String,message:Object,image:{type:String,default:null}}},i=n,r=a("2877"),d=Object(r["a"])(i,s,o,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-0929dac9.9205d97d.js.map